namespace = hansa

country_event = {
	id = hansa.1
	hidden = yes
	
	trigger = {
		OR = {
			tag = HSA
			tag = HAM
			tag = LUN
			tag = MAG
			tag = RIG
			tag = BRU
			tag = BRE
			tag = MKL
			tag = GOT
		}
	}
	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			add_opinion = {
				who = HSA
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = HAM
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = LUN
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = MAG
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = RIG
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = BRU
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = BRE
				modifier = member_of_hansa_op
			}
			add_opinion = {
				who = GOT
				modifier = member_of_hansa_op
			}
			add_country_modifier = {
				name = member_of_hansa_ev
				duration = -1
				desc = member_of_hansa_desc
			}
		}
		if = {
			limit = { tag = HSA }
			add_country_modifier = {
				name = leader_of_hansa
				duration = -1
			}
		}
	}
	option = {		
	}
}

country_event = {
	id = hansa.2
	hidden = yes
	
	trigger = {
		AND = {
			has_country_modifier = member_of_hansa_ev
			is_in_war = { defender_leader = ROOT }
		}
	}
	mean_time_to_happen = {
		days = 1
	}
	immediate = {
		every_country = {
			limit = {
				NOT = { tag = ROOT }
				has_country_modifier = member_of_hansa_ev
			}
			#ROOT = {
			#	add_treasury = 40
			#
			}
			#THIS = {
			#	add_treasury = -40
			#}
			THIS = {
				country_event = {
					id = hansa.4
				}
			}
		}
	}
	option = {
	}
}

# Hansa Sound Toll (Hidden)
country_event = {
	id = hansa.3
	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		owns = 12
		NOT = { has_country_flag = ended_sound_toll }
		NOT = { has_country_modifier = hansa_sound_toll }
	}
	immediate = {
		add_country_modifier = {
			name = hansa_sound_toll
			duration = -1
		}
	}
	option = {
	}
}

country_event = {
	id = hansa.4
	title = "hansa.4.t"
	desc = "hansa.4.d"
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	
	option = {
		name = "hansa.4.o1"
		add_treasury = -50
		FROM = {
			add_treasury = 50
		}
	}
	option = {
		name = "hansa.4.o2"
		add_treasury = -100
		FROM = {
			add_treasury = 100
		}
	}
	option = {
		name = "hansa.4.o3"
		add_treasury = -500
		FROM = {
			add_treasury = 500
		}
	}
	option = {
		name = "hansa.4.o4"
		add_prestige = -5
		FROM = {
			add_opinion = {
				who = ROOT
				modifier = refused_join_war
			}
		}
	}
}

country_event = {
	id = hansa.5
	title = "hansa.5.t"
	desc = "hansa.5.d"
	picture = DIPLOMACY_eventPicture
	is_triggered_only = yes
	
	option = {
		name = "hansa.5.o1"
	}
}